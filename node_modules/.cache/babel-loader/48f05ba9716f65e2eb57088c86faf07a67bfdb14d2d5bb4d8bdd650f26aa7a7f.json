{"ast":null,"code":"// frontend/src/App.js\nimport React,{useEffect,useState}from\"react\";import PropertyList from\"./components/PropertyList\";import AddPropertyForm from\"./components/AddPropertyForm\";import PropertyModal from\"./components/PropertyModal\";import{api}from\"./utils/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const[properties,setProperties]=useState([]);const[loading,setLoading]=useState(true);const[filterType,setFilterType]=useState(\"All\");const[query,setQuery]=useState(\"\");const[selected,setSelected]=useState(null);const[editing,setEditing]=useState(null);const fetchData=async()=>{setLoading(true);try{const data=await api.getProperties();setProperties(data);}catch(err){console.error(err);alert(\"Failed to fetch properties. Make sure backend is running.\");}finally{setLoading(false);}};useEffect(()=>{fetchData();},[]);const handleAdd=async newProp=>{await api.addProperty(newProp);await fetchData();};const handleDelete=async id=>{if(!window.confirm(\"Are you sure to delete this property?\"))return;try{await api.deleteProperty(id);await fetchData();}catch(err){console.error(err);alert(\"Failed to delete\");}};const handleEditStart=prop=>setEditing(prop);const handleUpdate=async updatedProp=>{try{await api.updateProperty(updatedProp._id||updatedProp.id,updatedProp);setEditing(null);await fetchData();}catch(err){console.error(err);alert(\"Failed to update\");}};const types=[\"All\",...Array.from(new Set(properties.map(p=>p.type)))];const visible=properties.filter(p=>{const matchesType=filterType===\"All\"||p.type===filterType;const q=query.trim().toLowerCase();const matchesQuery=q===\"\"||p.name.toLowerCase().includes(q)||p.location.toLowerCase().includes(q);return matchesType&&matchesQuery;});return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Property Listings\"})}),/*#__PURE__*/_jsxs(\"section\",{className:\"controls\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Search:\"}),/*#__PURE__*/_jsx(\"input\",{value:query,onChange:e=>setQuery(e.target.value),placeholder:\"Search by name or location\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type:\"}),/*#__PURE__*/_jsx(\"select\",{value:filterType,onChange:e=>setFilterType(e.target.value),children:types.map(t=>/*#__PURE__*/_jsx(\"option\",{value:t,children:t},t))})]})]}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"left\",children:/*#__PURE__*/_jsx(AddPropertyForm,{onAdd:handleAdd,editing:editing,onUpdate:handleUpdate})}),/*#__PURE__*/_jsx(\"div\",{className:\"right\",children:loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(PropertyList,{properties:visible,onView:p=>setSelected(p),onEdit:handleEditStart,onDelete:handleDelete})})]}),selected&&/*#__PURE__*/_jsx(PropertyModal,{property:selected,onClose:()=>setSelected(null)}),/*#__PURE__*/_jsx(\"footer\",{children:\"Built for testing \\u2014 React + MongoDB Atlas backend\"})]});}","map":{"version":3,"names":["React","useEffect","useState","PropertyList","AddPropertyForm","PropertyModal","api","jsx","_jsx","jsxs","_jsxs","App","properties","setProperties","loading","setLoading","filterType","setFilterType","query","setQuery","selected","setSelected","editing","setEditing","fetchData","data","getProperties","err","console","error","alert","handleAdd","newProp","addProperty","handleDelete","id","window","confirm","deleteProperty","handleEditStart","prop","handleUpdate","updatedProp","updateProperty","_id","types","Array","from","Set","map","p","type","visible","filter","matchesType","q","trim","toLowerCase","matchesQuery","name","includes","location","className","children","value","onChange","e","target","placeholder","t","onAdd","onUpdate","onView","onEdit","onDelete","property","onClose"],"sources":["E:/project/property-react-project/fronted/src/App.js"],"sourcesContent":["// frontend/src/App.js\nimport React, { useEffect, useState } from \"react\";\nimport PropertyList from \"./components/PropertyList\";\nimport AddPropertyForm from \"./components/AddPropertyForm\";\nimport PropertyModal from \"./components/PropertyModal\";\nimport { api } from \"./utils/api\";\n\nexport default function App() {\n  const [properties, setProperties] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filterType, setFilterType] = useState(\"All\");\n  const [query, setQuery] = useState(\"\");\n  const [selected, setSelected] = useState(null);\n  const [editing, setEditing] = useState(null);\n\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      const data = await api.getProperties();\n      setProperties(data);\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to fetch properties. Make sure backend is running.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const handleAdd = async (newProp) => {\n    await api.addProperty(newProp);\n    await fetchData();\n  };\n\n  const handleDelete = async (id) => {\n    if (!window.confirm(\"Are you sure to delete this property?\")) return;\n    try {\n      await api.deleteProperty(id);\n      await fetchData();\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to delete\");\n    }\n  };\n\n  const handleEditStart = (prop) => setEditing(prop);\n\n  const handleUpdate = async (updatedProp) => {\n    try {\n      await api.updateProperty(updatedProp._id || updatedProp.id, updatedProp);\n      setEditing(null);\n      await fetchData();\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to update\");\n    }\n  };\n\n  const types = [\"All\", ...Array.from(new Set(properties.map((p) => p.type)))];\n\n  const visible = properties.filter((p) => {\n    const matchesType = filterType === \"All\" || p.type === filterType;\n    const q = query.trim().toLowerCase();\n    const matchesQuery =\n      q === \"\" ||\n      p.name.toLowerCase().includes(q) ||\n      p.location.toLowerCase().includes(q);\n    return matchesType && matchesQuery;\n  });\n\n  return (\n    <div className=\"container\">\n      <header>\n        <h1>Property Listings</h1>\n      </header>\n\n      <section className=\"controls\">\n        <div>\n          <label>Search:</label>\n          <input value={query} onChange={(e) => setQuery(e.target.value)} placeholder=\"Search by name or location\" />\n        </div>\n        <div>\n          <label>Type:</label>\n          <select value={filterType} onChange={(e) => setFilterType(e.target.value)}>\n            {types.map((t) => (\n              <option key={t} value={t}>\n                {t}\n              </option>\n            ))}\n          </select>\n        </div>\n      </section>\n\n      <main>\n        <div className=\"left\">\n          <AddPropertyForm onAdd={handleAdd} editing={editing} onUpdate={handleUpdate} />\n        </div>\n\n        <div className=\"right\">\n          {loading ? <p>Loading...</p> : (\n            <PropertyList properties={visible} onView={(p) => setSelected(p)} onEdit={handleEditStart} onDelete={handleDelete} />\n          )}\n        </div>\n      </main>\n\n      {selected && <PropertyModal property={selected} onClose={() => setSelected(null)} />}\n\n      <footer>Built for testing â€” React + MongoDB Atlas backend</footer>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}